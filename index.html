<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science at Southwest</title>
    <link rel="icon" type="image/png" href="https://southwestschoolhn.com/wp-content/uploads/2021/08/cropped-ICON_Mesa-de-trabajo-1-32x32.png" sizes="32x32">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&family=Cabin+Sketch:wght@700&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root { --sws-maroon: #ac2e55; --sws-gold: #f9db66; --sws-teal: #29c4a9; }
        body { font-family: "Rubik", sans-serif; background-color: #f8fafc; color: #334155; }
        .sketch { font-family: "Cabin Sketch", cursive; }
        .mono { font-family: "JetBrains Mono", monospace; }

        /* Grid Cards from your original design */
        .grade-card { background: white; border: 1px solid #e2e8f0; border-radius: 12px; padding: 20px; transition: 0.2s; }
        .grade-card:hover { border-color: var(--sws-gold); transform: translateY(-3px); box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); }
        
        .grade-title { font-size: 0.75rem; font-weight: 700; text-transform: uppercase; color: #94a3b8; letter-spacing: 0.05em; }
        .subject-title { font-family: "Cabin Sketch", cursive; font-size: 1.8rem; color: #1e293b; line-height: 1; margin-top: 5px; }
        .link-item { display: block; font-size: 0.85rem; color: var(--sws-maroon); font-weight: 500; margin-top: 10px; text-decoration: none; }
        .link-item:hover { text-decoration: underline; }

        /* Status Bar */
        .status-bar { background: #1e293b; color: white; padding: 15px 25px; border-radius: 12px; margin-bottom: 30px; display: flex; justify-content: space-between; align-items: center; border-left: 5px solid var(--sws-gold); }
        
        /* Schedule Table */
        table { width: 100%; border-collapse: collapse; font-size: 0.8rem; background: white; }
        th { background: #0f172a; color: white; padding: 10px; text-transform: uppercase; font-size: 0.7rem; border: 1px solid #334155; }
        td { border: 1px solid #e2e8f0; padding: 8px; text-align: center; vertical-align: middle; }
        
        .g7 { background: #dcfce7; color: #14532d; font-weight: 700; }
        .g8 { background: #dbeafe; color: #1e3a8a; font-weight: 700; }
        .g9 { background: #f3e8ff; color: #581c87; font-weight: 700; }
        .g10 { background: #fef9c3; color: #713f12; font-weight: 700; }
        .g11 { background: #fee2e2; color: #7f1d1d; font-weight: 700; }
        .vacant { background: #f1f5f9; color: #94a3b8; font-style: italic; }
        .break { background: #475569; color: white; font-weight: 700; letter-spacing: 1px; }
    </style>
</head>
<body class="p-6 max-w-7xl mx-auto">

    <header class="flex justify-between items-end mb-10 border-b border-slate-200 pb-6">
        <div>
            <h1 class="sketch text-4xl text-[#ac2e55]">SCIENCE AT SOUTHWEST</h1>
            <p class="text-xs font-bold text-slate-400 uppercase tracking-widest mt-1">Mr. Castro | 2025 - 2026</p>
        </div>
        <div class="flex gap-4">
            <a href="safety.html" class="text-xs font-bold text-slate-500 hover:text-[#ac2e55]">SAFETY</a>
            <a href="science-fair.html" class="text-xs font-bold text-slate-500 hover:text-[#ac2e55]">SCIENCE FAIR</a>
            <button onclick="login()" class="text-xs font-bold bg-slate-800 text-white px-3 py-1 rounded hover:bg-black transition">TEACHER LOGIN</button>
        </div>
    </header>

    <div class="status-bar">
        <div>
            <span class="text-[10px] font-bold text-white/50 uppercase tracking-widest block">Honduras Time</span>
            <span id="live-clock" class="text-2xl font-mono font-bold">Loading...</span>
        </div>
        <div class="text-right">
            <span class="text-[10px] font-bold text-[#f9db66] uppercase tracking-widest block">Current Status</span>
            <span id="status-now" class="font-bold text-lg">Loading...</span>
            <span id="status-next" class="block text-xs text-slate-400 mt-1">Next: Loading...</span>
        </div>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">
        
        <div class="grade-card">
            <span class="grade-title">7th Grade</span>
            <h2 class="subject-title">Planetary Science</h2>
            <a href="7th-hub.html" class="link-item">Quarter Plan</a>
            <div class="admin-only hidden mt-2 pt-2 border-t border-dashed border-slate-200">
                <a href="7th-slides.html" class="text-xs text-slate-400 hover:text-[#ac2e55]">Slides</a>
            </div>
        </div>

        <div class="grade-card">
            <span class="grade-title">8th Grade</span>
            <h2 class="subject-title">Electronics</h2>
            <a href="8th-hub.html" class="link-item">Quarter Plan</a>
            <div class="admin-only hidden mt-2 pt-2 border-t border-dashed border-slate-200">
                <a href="8th-slides.html" class="text-xs text-slate-400 hover:text-[#ac2e55]">Slides</a>
            </div>
        </div>

        <div class="grade-card">
            <span class="grade-title">9th Grade</span>
            <h2 class="subject-title">Chemistry</h2>
            <a href="9th-hub.html" class="link-item">Quarter Plan</a>
            <div class="admin-only hidden mt-2 pt-2 border-t border-dashed border-slate-200">
                <a href="9th-slides.html" class="text-xs text-slate-400 hover:text-[#ac2e55]">Slides</a>
            </div>
        </div>

        <div class="grade-card">
            <span class="grade-title">10th Grade</span>
            <h2 class="subject-title">Biology</h2>
            <a href="#" class="link-item">Quarter Plan</a>
            <div class="admin-only hidden mt-2 pt-2 border-t border-dashed border-slate-200">
                <a href="10thbio-slides.html" class="text-xs text-slate-400 hover:text-[#ac2e55]">Slides Week 3.1</a>
                <a href="10thchem-slides.html" class="text-xs text-slate-400 hover:text-[#ac2e55] block">Chem Slides</a>
            </div>
        </div>

        <div class="grade-card border-slate-800 bg-slate-900">
            <span class="grade-title text-slate-500">Universal</span>
            <h2 class="subject-title text-white">Design Thinking</h2>
            <a href="dthink.html" class="link-item text-[#f9db66]">Design Protocol</a>
            <a href="dthink.html" class="link-item text-[#f9db66]">Activity</a>
        </div>

        <div class="grade-card border-dashed border-[#ac2e55] bg-[#fdf2f5] admin-only hidden">
            <span class="grade-title text-[#ac2e55]">Teacher Access Only</span>
            <div class="mt-2 space-y-2">
                <a href="11thchem-week2.html" class="block text-sm font-bold text-slate-700 hover:text-[#ac2e55]">11th Chem (Wk 3.2)</a>
                <a href="11thbio-slides.html" class="block text-sm font-bold text-slate-700 hover:text-[#ac2e55]">11th Bio (Wk 3.1)</a>
                <a href="11thbio-week2.html" class="block text-sm font-bold text-slate-700 hover:text-[#ac2e55]">11th Bio (Wk 3.2)</a>
                <a href="11thecon-slides.html" class="block text-sm font-bold text-slate-700 hover:text-[#ac2e55]">11th Econ</a>
            </div>
        </div>

    </div>

    <h2 class="sketch text-3xl mb-4 text-slate-800">Weekly Schedule</h2>
    <div class="overflow-x-auto rounded-xl border border-slate-300 shadow-sm">
        <table>
            <thead>
                <tr>
                    <th style="width:50px">#</th>
                    <th style="width:100px">Time</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                </tr>
            </thead>
            <tbody>
                <tr><td>1</td><td>8:00 - 8:40</td><td class="vacant">PREP</td><td class="g8">Science 8</td><td class="g11">Econ 11</td><td class="g7">Science 7</td><td class="g8">Science 8</td></tr>
                <tr><td>2</td><td>8:40 - 9:20</td><td class="vacant">VACANT</td><td class="g8">Science 8</td><td class="g11">Econ 11</td><td class="g7">Science 7</td><td class="g8">Science 8</td></tr>
                <tr class="break"><td colspan="7">RECESS (9:20 - 9:45)</td></tr>
                <tr><td>3</td><td>9:45 - 10:25</td><td class="g9">Science 9</td><td class="g9">Science 9</td><td class="g7">Science 7</td><td class="g10">Chem 10</td><td class="g10">Bio 10</td></tr>
                <tr><td>4</td><td>10:25 - 11:05</td><td class="g9">Science 9</td><td class="g9">Science 9</td><td class="g7">Science 7</td><td class="g10">Chem 10</td><td class="g10">Bio 10</td></tr>
                <tr><td>5</td><td>11:05 - 11:45</td><td class="vacant">PREP</td><td class="g10">Bio 10</td><td class="g11">Chem 11</td><td class="vacant">PREP</td><td class="g9">Science 9</td></tr>
                <tr><td>6</td><td>11:45 - 12:20</td><td class="g7">Science 7</td><td class="g10">Bio 10</td><td class="g11">Chem 11</td><td class="g9">Science 9</td><td class="g9">Science 9</td></tr>
                <tr class="break"><td colspan="7">LUNCH (12:20 - 12:55)</td></tr>
                <tr><td>8</td><td>12:55 - 1:35</td><td class="vacant">PREP</td><td class="g11">Bio 11</td><td class="vacant">PREP</td><td class="g11">Chem 11</td><td class="g7">Science 7</td></tr>
                <tr><td>9</td><td>1:35 - 2:15</td><td class="g10">Chem 10</td><td class="g11">Bio 11</td><td class="g11">Bio 11</td><td class="g11">Chem 11</td><td class="vacant">PREP</td></tr>
                <tr><td>10</td><td>2:15 - 2:55</td><td class="g10">Chem 10</td><td class="vacant">PREP</td><td class="g11">Bio 11</td><td class="vacant">PREP</td><td class="g8">Science 8</td></tr>
            </tbody>
        </table>
    </div>

    <script>
        // --- AUTH ---
        const STORAGE_KEY = "sws_layout_config_v2";
        const LOCK_VALUE = "U1dTMjAyNl9TV1NfU0VDVVJF"; const SALT = "_SWS_SECURE";
        function checkAuth() {
            const candidate = localStorage.getItem(STORAGE_KEY);
            const admin = document.querySelectorAll('.admin-only');
            if (candidate && btoa(atob(candidate) + SALT) === LOCK_VALUE) admin.forEach(el => el.classList.remove('hidden'));
            else admin.forEach(el => el.classList.add('hidden'));
        }
        function login() {
            const input = prompt("Access Code:");
            if (input && btoa(input + SALT) === LOCK_VALUE) { localStorage.setItem(STORAGE_KEY, btoa(input)); location.reload(); }
        }

        // --- TIMEZONE & SCHEDULE LOGIC ---
        const schedule = {
            1: [ // Mon
                {s:"08:00", e:"08:40", c:"Prep/Vacant"}, {s:"08:40", e:"09:20", c:"Vacant"},
                {s:"09:20", e:"09:45", c:"RECESS", t:"break"}, {s:"09:45", e:"11:05", c:"Science 9"},
                {s:"11:05", e:"11:45", c:"Prep"}, {s:"11:45", e:"12:20", c:"Science 7"},
                {s:"12:20", e:"12:55", c:"LUNCH", t:"break"}, {s:"12:55", e:"13:35", c:"Prep"}, {s:"13:35", e:"14:55", c:"Chem 10"}
            ],
            2: [ // Tue
                {s:"08:00", e:"09:20", c:"Science 8"}, {s:"09:20", e:"09:45", c:"RECESS", t:"break"},
                {s:"09:45", e:"11:05", c:"Science 9"}, {s:"11:05", e:"12:20", c:"Bio 10"},
                {s:"12:20", e:"12:55", c:"LUNCH", t:"break"}, {s:"12:55", e:"14:15", c:"Bio 11"}, {s:"14:15", e:"14:55", c:"Prep"}
            ],
            3: [ // Wed
                {s:"08:00", e:"09:20", c:"Econ 11"}, {s:"09:20", e:"09:45", c:"RECESS", t:"break"},
                {s:"09:45", e:"11:05", c:"Science 7"}, {s:"11:05", e:"12:20", c:"Chem 11"},
                {s:"12:20", e:"12:55", c:"LUNCH", t:"break"}, {s:"12:55", e:"13:35", c:"Prep"}, {s:"13:35", e:"14:55", c:"Bio 11"}
            ],
            4: [ // Thu
                {s:"08:00", e:"09:20", c:"Science 7"}, {s:"09:20", e:"09:45", c:"RECESS", t:"break"},
                {s:"09:45", e:"11:05", c:"Chem 10"}, {s:"11:05", e:"11:45", c:"Prep"},
                {s:"11:45", e:"12:20", c:"Science 9"}, {s:"12:20", e:"12:55", c:"LUNCH", t:"break"},
                {s:"12:55", e:"14:15", c:"Chem 11"}, {s:"14:15", e:"14:55", c:"Prep"}
            ],
            5: [ // Fri
                {s:"08:00", e:"09:20", c:"Science 8"}, {s:"09:20", e:"09:45", c:"RECESS", t:"break"},
                {s:"09:45", e:"11:05", c:"Bio 10"}, {s:"11:05", e:"12:20", c:"Science 9"},
                {s:"12:20", e:"12:55", c:"LUNCH", t:"break"}, {s:"12:55", e:"13:35", c:"Science 7"},
                {s:"13:35", e:"14:15", c:"Prep"}, {s:"14:15", e:"14:55", c:"Science 8"}
            ]
        };

        function getHondurasTime() {
            // Force UTC-6 (Honduras is consistently UTC-6, no daylight savings)
            const now = new Date();
            const utc = now.getTime() + (now.getTimezoneOffset() * 60000);
            return new Date(utc + (3600000 * -6));
        }

        function updateLiveStatus() {
            const now = getHondurasTime();
            let day = now.getDay();
            const timeVal = now.getHours() * 60 + now.getMinutes();

            document.getElementById('live-clock').innerText = now.toLocaleTimeString([], {hour:'2-digit', minute:'2-digit', weekday:'long'});
            const nowEl = document.getElementById('status-now');
            const nextEl = document.getElementById('status-next');

            // Handle Weekend or After School
            if (day === 0 || day === 6 || (day === 5 && timeVal > 900)) { // Sat, Sun, or Fri after 3pm
                nowEl.innerText = "Weekend Mode";
                // Look ahead to Monday
                nextEl.innerText = "Next: Mon 8:00 - Prep / Science 8";
                return;
            }

            const todaySched = schedule[day];
            let currentClass = null;
            let nextClass = null;

            if (todaySched) {
                for (let i = 0; i < todaySched.length; i++) {
                    const block = todaySched[i];
                    const startMin = parseInt(block.s.split(':')[0])*60 + parseInt(block.s.split(':')[1]);
                    const endMin = parseInt(block.e.split(':')[0])*60 + parseInt(block.e.split(':')[1]);

                    if (timeVal >= startMin && timeVal < endMin) {
                        currentClass = block;
                        nextClass = todaySched[i+1] || null;
                        break;
                    }
                    if (timeVal < startMin) {
                        nextClass = block;
                        break;
                    }
                }
            }

            // Logic for "End of Day" rolling over to tomorrow
            if (!currentClass && !nextClass && timeVal > 800) {
                nowEl.innerText = "Done for Today";
                let nextDayIndex = day + 1;
                if(nextDayIndex > 5) nextDayIndex = 1; // Loop to Monday
                const nextDaySched = schedule[nextDayIndex];
                const firstBlock = nextDaySched[0];
                nextEl.innerText = `Next: Tomorrow ${firstBlock.s} - ${firstBlock.c}`;
            } else {
                if (currentClass) {
                    nowEl.innerText = currentClass.c;
                    nowEl.style.color = currentClass.t === 'break' ? '#f9db66' : 'white';
                    nextEl.innerText = nextClass ? `Next: ${nextClass.s} - ${nextClass.c}` : "End of Day";
                } else if (nextClass) {
                    nowEl.innerText = "Before Class";
                    nextEl.innerText = `Next: ${nextClass.s} - ${nextClass.c}`;
                }
            }
        }

        setInterval(updateLiveStatus, 1000);
        updateLiveStatus();
        checkAuth();
    </script>
</body>
</html>
