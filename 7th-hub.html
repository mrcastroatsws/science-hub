<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science at Southwest | Seventh Grade</title>
    <link rel="icon" type="image/png" href="https://southwestschoolhn.com/wp-content/uploads/2021/08/cropped-ICON_Mesa-de-trabajo-1-32x32.png" sizes="32x32">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;700&family=Cabin+Sketch:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { --sws-maroon: #ac2e55; --sws-gold: #f9db66; }
        .tab-btn.active { border-bottom: 4px solid var(--sws-gold); color: var(--sws-gold); }
        .view { display: none; }
        .view.active { display: block; }
        
        /* Jornalización Styling */
        .j-container { background: white; color: black; padding: 40px; border-radius: 8px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); font-family: Arial, sans-serif; min-width: 800px; }
        .j-header { text-align: center; font-weight: bold; text-transform: uppercase; font-size: 20px; margin-bottom: 20px; border-bottom: 2px solid black; padding-bottom: 10px; }
        .j-info-bar { display: flex; justify-content: space-between; margin-bottom: 20px; font-size: 12px; font-weight: bold; }
        .j-line { border-bottom: 1px solid black; flex-grow: 1; margin-left: 5px; height: 14px; }
        table.j-table { width: 100%; border-collapse: collapse; margin-bottom: 15px; table-layout: fixed; font-size: 11px; }
        table.j-table th, table.j-table td { border: 1px solid black; padding: 4px 6px; vertical-align: middle; }
        table.j-table th { background: #f2f2f2; text-transform: uppercase; text-align: center; }
        .col-date { width: 45px; text-align: center; font-weight: bold; background: #fafafa; }
        .j-row { height: 32px; }
        .no-class { color: #999; font-style: italic; background: #fdfdfd; }
        .points { color: var(--sws-maroon); font-weight: bold; font-size: 9px; }

        /* Mobile Swipe */
        .table-responsive { width: 100%; overflow-x: auto; -webkit-overflow-scrolling: touch; border-radius: 8px; }

        /* Live Edit Highlighting for Admin */
        .admin-active [contenteditable="true"]:hover { background: rgba(41, 196, 169, 0.1); cursor: text; outline: 2px dashed var(--sws-teal); }

        @media print { nav, .tab-btn, .btn-print-hide, .admin-save-bar { display: none !important; } .j-container { box-shadow: none; padding: 0; width: 100%; } body { background: white; } }
    </style>
</head>
<body class="bg-slate-100 text-slate-900">

    <div id="admin-save-bar" class="admin-only hidden bg-slate-900 text-white p-3 sticky top-0 z-[60] flex justify-between items-center border-b border-teal-500">
        <span class="text-xs font-bold text-teal-400 animate-pulse">● LIVE EDIT MODE ACTIVE</span>
        <button onclick="saveLiveChanges()" class="bg-teal-500 hover:bg-teal-600 text-slate-900 px-4 py-1 rounded font-bold text-xs transition">Save Weekly Updates</button>
    </div>

    <nav class="bg-[#ac2e55] text-white shadow-xl sticky top-0 sm:top-[49px] z-50">
        <div class="max-w-7xl mx-auto px-6 py-4 flex justify-between items-center">
            <div class="flex items-center space-x-4">
                <a href="index.html" class="sketch text-2xl text-[#f9db66]">7TH GRADE HUB</a>
            </div>
            <div class="flex space-x-6 text-xs font-bold uppercase">
                <button onclick="switchView('quarter', this)" class="tab-btn active pb-1">Quarter Plan</button>
                <button onclick="switchView('weekly', this)" class="tab-btn pb-1">Weekly Plans</button>
                <button onclick="switchView('script', this)" class="tab-btn pb-1">Teacher Files</button>
                <a href="7th-slides.html" class="bg-[#f9db66] text-[#ac2e55] px-3 py-1 rounded font-bold transition">Slides</a>
            </div>
        </div>
    </nav>

    <main class="max-w-7xl mx-auto p-4 md:p-8">

        <section id="view-quarter" class="view active animate-fade-in">
            <div class="flex justify-end mb-4 btn-print-hide">
                <button onclick="window.print()" class="text-xs bg-slate-800 text-white px-4 py-2 rounded font-bold">Print / Save PDF</button>
            </div>
            <div class="table-responsive">
                <div class="j-container">
                    <div class="j-header">Jornalización Parcial 7mo Grado</div>
                    <div class="j-info-bar">
                        <div class="flex" style="width: 45%">DOCENTE: <span class="j-line">CÉSAR CASTRO</span></div>
                        <div class="flex" style="width: 35%">CLASE: <span class="j-line">PLANETARY SCIENCE</span></div>
                        <div class="flex" style="width: 15%">PARCIAL: <span class="j-line">III</span></div>
                    </div>
                    <table class="j-table">
                        <thead><tr><th class="col-date">Fecha</th><th>Semana 3.1</th><th class="col-date">Fecha</th><th>Semana 3.2</th><th class="col-date">Fecha</th><th>Semana 3.3</th></tr></thead>
                        <tbody>
                            <tr class="j-row"><td class="col-date">01/12</td><td contenteditable="true" id="q-31-1">Where Am I? (Intro)</td><td class="col-date">01/19</td><td contenteditable="true" id="q-32-1">Round / Flat Earth (Intro)</td><td class="col-date">01/26</td><td contenteditable="true" id="q-33-1">Compare & Contrast</td></tr>
                            </tbody>
                    </table>
                </div>
            </div>
        </section>

        <section id="view-weekly" class="view">
            <div class="bg-white rounded-xl shadow-2xl overflow-hidden">
                <div class="bg-maroon p-8 text-white" style="background: var(--sws-maroon);">
                    <h2 class="sketch text-5xl text-[#f9db66] mb-2" contenteditable="true" id="edit-week-title">Week 3.1</h2>
                    <p class="text-xs font-bold uppercase tracking-[0.2em]" contenteditable="true" id="edit-week-dates">12th Jan - 16th Jan | Intro to Frame of Reference</p>
                </div>
                <div class="p-8 grid grid-cols-1 md:grid-cols-5 gap-4">
                    <div class="border p-4 rounded bg-slate-50">
                        <strong contenteditable="true" id="day1-head">MON (01/12)</strong><br>
                        <span class="text-xs text-maroon font-bold uppercase" contenteditable="true" id="day1-topic">Where Am I?</span>
                        <p class="text-[10px] mt-2 italic" contenteditable="true" id="day1-act">Activity: Zoom Out</p>
                    </div>
                    <div class="border p-4 rounded bg-slate-100 opacity-50 flex items-center justify-center font-bold text-xs uppercase" contenteditable="true" id="day2-topic">No Class</div>
                    <div class="border p-4 rounded bg-slate-50">
                        <strong contenteditable="true" id="day3-head">WED (01/14)</strong><br>
                        <span class="text-xs text-maroon font-bold uppercase" contenteditable="true" id="day3-topic">Maps & Elevation</span>
                        <p class="text-[10px] mt-2 italic" contenteditable="true" id="day3-act">Activity: Profile Sketch</p>
                    </div>
                    <div class="border p-4 rounded bg-yellow-50">
                        <strong contenteditable="true" id="day4-head">THU (01/15)</strong><br>
                        <span class="text-xs text-maroon font-bold uppercase" contenteditable="true" id="day4-topic">Review & CW#1</span>
                        <p class="text-[10px] mt-2 font-bold text-teal-600" contenteditable="true" id="day4-act">Worksheet R (5 pts)</p>
                    </div>
                    <div class="border p-4 rounded bg-slate-50">
                        <strong contenteditable="true" id="day5-head">FRI (01/16)</strong><br>
                        <span class="text-xs text-maroon font-bold uppercase" contenteditable="true" id="day5-topic">Investigation 1</span>
                        <p class="text-[10px] mt-2 italic" contenteditable="true" id="day5-act">HW: Begin Moon Log</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="view-script" class="view">
            </section>

    </main>

    <script src="scripts.js"></script>
    <script>
        // 1. Logic to Load Saved Content on Start
        document.addEventListener('DOMContentLoaded', () => {
            const editables = document.querySelectorAll('[contenteditable="true"]');
            editables.forEach(el => {
                const savedValue = localStorage.getItem('7th-' + el.id);
                if (savedValue) el.innerHTML = savedValue;
            });
            
            // Check if admin is logged in to show the Save Bar
            if(localStorage.getItem("sws_admin_auth") === "true") {
                document.body.classList.add('admin-active');
            }
        });

        // 2. Logic to Save Content
        function saveLiveChanges() {
            const editables = document.querySelectorAll('[contenteditable="true"]');
            editables.forEach(el => {
                localStorage.setItem('7th-' + el.id, el.innerHTML);
            });
            alert("Changes saved locally to this browser, Mr. Castro.");
        }

        function switchView(viewName, btn) {
            document.querySelectorAll('.view').forEach(v => v.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.getElementById('view-' + viewName).classList.add('active');
            if (btn) btn.classList.add('active');
        }
    </script>
</body>
</html>